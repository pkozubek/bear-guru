(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports={SingleBeer:"singleBeer_SingleBeer__1QABS",title:"singleBeer_title__3rJjf",tagline:"singleBeer_tagline__3Z2ya"}},24:function(e,t,a){e.exports={SelectedBeerImage:"BeerDetails_SelectedBeerImage__Ok-46",SelectedBeerData:"BeerDetails_SelectedBeerData__GrRmP",MoreBeers:"BeerDetails_MoreBeers__2nYef"}},31:function(e,t,a){e.exports={Active:"menuItem_Active__24yHd",MenuItem:"menuItem_MenuItem__bs-4J"}},42:function(e,t,a){e.exports={ldshourglass:"spinner_ldshourglass__rmw9g"}},44:function(e,t,a){e.exports={BeerContainer:"beerContainer_BeerContainer__2vXBs"}},48:function(e,t,a){e.exports={Logo:"logo_Logo__2qI5I"}},49:function(e,t,a){e.exports={DesktopMenu:"desktopMenu_DesktopMenu__14hCy"}},50:function(e,t,a){e.exports={Shadow:"shadow_Shadow__1Uasw"}},51:function(e,t,a){e.exports={Modal:"Modal_Modal__1-5dN"}},52:function(e,t,a){e.exports={SuggestedBeer:"suggestedBeer_SuggestedBeer__3xFyK"}},53:function(e,t,a){},55:function(e,t,a){e.exports=a(85)},60:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(22),c=a.n(i),l=(a(60),a(15)),s=a(9),o=a(10),u=a(13),m=a(11),d=a(14),p=a(23),f=a.n(p),g=a(16),b=a(42),E=a.n(b),h=function(e){return e.isVisible?r.a.createElement("div",{className:E.a.ldshourglass}):null},v=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoaded:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.isLoaded?{display:"block"}:{display:"none"};return r.a.createElement(n.Fragment,null,r.a.createElement(h,{isVisible:!this.state.isLoaded}),r.a.createElement("img",{alt:this.props.alt,src:this.props.src,style:Object(g.a)({},t,{margin:"0 auto"}),onLoad:function(){return e.setState({isLoaded:!0})}}))}}]),t}(n.Component),B=Object(l.f)(function(e){return r.a.createElement("div",{className:f.a.SingleBeer,onClick:function(){e.history.replace("".concat("/"!==e.match.url?e.match.url:"","/details/").concat(e.id))}},r.a.createElement(v,{src:e.image,alt:e.name}),r.a.createElement("p",{className:f.a.title},e.name),r.a.createElement("p",{className:f.a.description},e.tagline))}),_=a(44),O=function(e){return r.a.createElement("div",{className:_.BeerContainer},e.beers.map(function(e){return r.a.createElement(B,{key:e.id,id:e.id,name:e.name,image:e.image,tagline:e.tagline})}))},k=a(45),y=a(12),j=a(47),S=a.n(j).a.create({baseURL:"https://api.punkapi.com/v2/"}),w=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={beers:[],page:1,mounted:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.beersInitialized||this.props.loadBeer(this.props.page)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{marginTop:"100px"}},r.a.createElement(O,{beers:this.props.beers}),r.a.createElement(k.a,{onEnter:function(){e.props.beersInitialized?e.props.loadBeer(e.props.page):e.props.initBeer()}},r.a.createElement("div",{style:{height:"100px"}})))}}]),t}(n.Component),I=Object(y.b)(function(e){return{beers:e.beers,page:e.page,beersInitialized:e.isInitialized}},function(e){return{loadBeer:function(t){return e(function(e){return function(t){var a=[];S.get("/beers?page=".concat(e,"&per_page=20")).then(function(n){for(var r=0;r<n.data.length;r++)a.push({id:n.data[r].id,name:n.data[r].name,tagline:n.data[r].tagline,image:n.data[r].image_url});t(function(e,t){return{type:"SET_BEERS",beers:e,page:t}}(a,e+1))}).catch(function(e){alert(e)})}}(t))},initBeer:function(){return e({type:"INIT_BEERS"})}}})(w),N=a(7),M=a(31),F=a.n(M),x=function(e){return r.a.createElement("li",{className:F.a.MenuItem},r.a.createElement(N.b,{to:e.link,exact:!0,activeClassName:F.a.Active},e.children))},A=a(48),T=a.n(A),C=function(e){return r.a.createElement("h1",{className:T.a.Logo},r.a.createElement("span",null,"Beer"),"Guru")},D=a(49),R=a.n(D),L=function(e){return r.a.createElement("header",{className:R.a.DesktopMenu},r.a.createElement(C,null),r.a.createElement("ul",null,r.a.createElement(x,{link:"/"},"Beers"),r.a.createElement(x,{link:"/favourite"},"Favourite")))},V=(a(83),function(e){return r.a.createElement("div",{className:"MobileMenu"},r.a.createElement("ul",null,r.a.createElement(x,{link:"/"},"Beers"),r.a.createElement(x,{link:"/favourite"},"Favourite")))}),U=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(L,null),r.a.createElement(V,null),this.props.children)}}]),t}(n.Component),z=Object(y.b)(function(e){return{favouriteBeers:e.favourite}})(function(e){return r.a.createElement("div",{style:{marginTop:"100px"}},r.a.createElement(O,{beers:e.favouriteBeers}))}),J=a(50),X=a.n(J),G=Object(l.f)(function(e){var t=e.location.pathname.substring(0,e.location.pathname.indexOf("/details"));return e.visible?r.a.createElement("div",{onClick:function(){e.history.replace(t)},className:X.a.Shadow},e.children):null}),P=a(51),W=a.n(P),Y=Object(l.f)(function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(G,{visible:!0}),r.a.createElement("div",{className:W.a.Modal},e.children))}),q=a(52),H=a.n(q),K=Object(l.f)(function(e){return r.a.createElement("div",{className:H.a.SuggestedBeer,onClick:function(){e.changeBeer(e.id)}},r.a.createElement(v,{src:e.image}),r.a.createElement("label",null,e.name))}),Q=a(24),Z=a.n(Q),$=(a(84),a(32)),ee=function(e){var t=null;switch(e.class){case"like":t=r.a.createElement("button",{className:e.class,onClick:e.click},r.a.createElement($.b,null));break;case"unlike":t=r.a.createElement("button",{className:e.class,onClick:e.click},r.a.createElement($.a,null))}return t},te=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={selectedBeer:null,suggestedBeers:[]},a.loadSuggestedBeer=function(e){S.get("/beers/".concat(e)).then(function(e){var t=e.data[0],n={id:t.id,image:t.image_url,name:t.name,tagline:t.tagline,description:t.description,ibu:t.ibu,abv:t.abv,ebc:t.ebc,brewers_tips:t.brewers_tips};a.setState({selectedBeer:n});var r=[];S.get("/beers?ibu_gt=".concat(n.ibu+-1,"&ibu_lt=").concat(n.ibu+1,"&page=1&per_page=3")).then(function(e){e.data.forEach(function(e){r.push({id:e.id,name:e.name,image:e.image_url})}),a.setState({suggestedBeers:r})}).catch(function(e){return alert(e)})}).catch(function(e){return alert(e)})},a.isAlreadyLiked=function(e){var t=!1;return a.props.favouriteBeers.forEach(function(a){a.id===e&&(t=!0)}),t},a.addToFavourite=function(){var e={id:a.state.selectedBeer.id,name:a.state.selectedBeer.name,image:a.state.selectedBeer.image,tagline:a.state.selectedBeer.tagline};a.isAlreadyLiked(a.state.selectedBeer.id)||a.props.addToFavourite(e)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.loadSuggestedBeer(this.props.match.params.id)}},{key:"render",value:function(){var e=this,t=null!==this.state.selectedBeer?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:Z.a.SelectedBeerImage},r.a.createElement(v,{src:this.state.selectedBeer.image,alt:this.state.selectedBeer.name})),r.a.createElement("div",{className:Z.a.SelectedBeerData},r.a.createElement("h2",null,this.state.selectedBeer.name,r.a.createElement(ee,{class:this.isAlreadyLiked(this.state.selectedBeer.id)?"unlike":"like",click:function(){e.isAlreadyLiked(e.state.selectedBeer.id)?e.props.removeFromFavourite(e.state.selectedBeer.id):e.addToFavourite()}})),r.a.createElement("p",null,this.state.selectedBeer.tagline),r.a.createElement("p",null,r.a.createElement("b",null,"IBU"),this.state.selectedBeer.ibu,r.a.createElement("b",null,"ABV"),this.state.selectedBeer.abv,"%",r.a.createElement("b",null,"EBC"),this.state.selectedBeer.abv),r.a.createElement("p",null,this.state.selectedBeer.description),r.a.createElement("p",null,this.state.selectedBeer.brewers_tips),r.a.createElement("div",{className:Z.a.MoreBeers},r.a.createElement("p",{style:{width:"100%"}},r.a.createElement("b",null,"You might also like")),this.state.suggestedBeers.map(function(t){return r.a.createElement(K,{key:t.id,id:t.id,name:t.name,image:t.image,changeBeer:e.loadSuggestedBeer})})))):null;return r.a.createElement(Y,null,t)}}]),t}(n.Component),ae=Object(y.b)(function(e){return{favouriteBeers:e.favourite}},function(e){return{addToFavourite:function(t){return e(function(e){return{type:"ADD_TO_FAVOURITE",beer:e}}(t))},removeFromFavourite:function(t){return e({type:"REMOVE_FROM_FAVOURITE",id:t})}}})(te),ne=a(53);var re=function(){var e=r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:I}),r.a.createElement(l.a,{path:"/favourite",exact:!0,component:z}),r.a.createElement(l.a,{path:"/details/:id",component:ae}),r.a.createElement(l.a,{path:"/favourite/details/:id",component:ae}));return r.a.createElement("div",{className:ne.App},r.a.createElement(U,null,e))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ie=a(25),ce={beers:[],page:1,isInitialized:!1,favourite:[]},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BEERS":return Object(g.a)({},e,{beers:[].concat(Object(ie.a)(e.beers),Object(ie.a)(t.beers)),page:e.page+1});case"ADD_TO_FAVOURITE":return Object(g.a)({},e,{favourite:[].concat(Object(ie.a)(e.favourite),[t.beer])});case"REMOVE_FROM_FAVOURITE":var a=e.favourite.filter(function(e){return e.id!==t.id});return Object(g.a)({},e,{favourite:a});case"INIT_BEERS":return Object(g.a)({},e,{isInitialized:!0});default:return e}},se=a(19),oe=a(54),ue=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||se.c,me=r.a.createElement(N.a,{basename:"/bear-guru"},r.a.createElement(re,null)),de=Object(se.d)(le,ue(Object(se.a)(oe.a)));c.a.render(r.a.createElement(y.a,{store:de},me),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[55,1,2]]]);
//# sourceMappingURL=main.8683de90.chunk.js.map